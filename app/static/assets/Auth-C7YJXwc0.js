import{j as e}from"./ui-vendor-DMJGUSRC.js";import{r as d}from"./react-vendor-nf7bT_Uh.js";import{I as l,B as b,q as p,r as j}from"./index-Dk0w3qhX.js";function _({onAuthSuccess:m}){const[t,x]=d.useState(!0),[c,u]=d.useState(!1),[g,i]=d.useState(""),[a,f]=d.useState({email:"",username:"",password:"",first_name:"",last_name:""}),h=async r=>{var o,n;r.preventDefault(),u(!0),i("");try{t?(await p(a.email||a.username,a.password),m(!1)):(await j({email:a.email,username:a.username,password:a.password,first_name:a.first_name,last_name:a.last_name}),m(!0))}catch(y){i(((n=(o=y.response)==null?void 0:o.data)==null?void 0:n.error)||"Authentication failed")}finally{u(!1)}},s=(r,o)=>{f(n=>({...n,[r]:o}))};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-6 font-system",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-gray-100/30 to-gray-200/30 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-80 h-80 bg-gradient-to-r from-gray-100/20 to-gray-200/20 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative w-full max-w-md bg-white border border-gray-200 rounded-xl p-8 shadow-sm",children:[e.jsx("div",{className:"text-center mb-8",children:e.jsx("p",{className:"text-gray-600 font-medium text-sm",children:t?"Welcome back":"Join the platform"})}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[!t&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),e.jsx(l,{type:"text",value:a.first_name,onChange:r=>s("first_name",r.target.value),placeholder:"John",className:"border-gray-300 text-gray-900 font-medium p-3 focus:border-gray-400 focus:ring-1 focus:ring-gray-400 placeholder:text-gray-400 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),e.jsx(l,{type:"text",value:a.last_name,onChange:r=>s("last_name",r.target.value),placeholder:"Doe",className:"border-gray-300 text-gray-900 font-medium p-3 focus:border-gray-400 focus:ring-1 focus:ring-gray-400 placeholder:text-gray-400 rounded-lg"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t?"Email or Username":"Email"}),e.jsx(l,{type:t?"text":"email",required:!0,value:a.email,onChange:r=>s("email",r.target.value),placeholder:t?"email@example.com or username":"email@example.com",className:"border-gray-300 text-gray-900 font-medium p-3 focus:border-gray-400 focus:ring-1 focus:ring-gray-400 placeholder:text-gray-400 rounded-lg"})]}),!t&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),e.jsx(l,{type:"text",required:!0,value:a.username,onChange:r=>s("username",r.target.value),placeholder:"username",minLength:3,className:"border-gray-300 text-gray-900 font-medium p-3 focus:border-gray-400 focus:ring-1 focus:ring-gray-400 placeholder:text-gray-400 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsx(l,{type:"password",required:!0,value:a.password,onChange:r=>s("password",r.target.value),placeholder:"••••••••",minLength:8,className:"border-gray-300 text-gray-900 font-medium p-3 focus:border-gray-400 focus:ring-1 focus:ring-gray-400 placeholder:text-gray-400 rounded-lg"})]}),g&&e.jsx("div",{className:"bg-red-50 border border-red-200 p-4 rounded-lg text-center",children:e.jsx("p",{className:"text-sm text-red-600 font-medium",children:g})}),e.jsx(b,{type:"submit",className:"w-full bg-gray-900 text-white hover:bg-gray-800 font-semibold py-3 rounded-lg border-0 disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-sm",disabled:c,children:c?"Loading...":t?"Sign In":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{type:"button",onClick:()=>{x(!t),i("")},className:"text-sm text-gray-600 hover:text-gray-900 font-medium transition-colors",children:t?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}export{_ as Auth};
