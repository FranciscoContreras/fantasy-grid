import{j as e}from"./ui-vendor-DMJGUSRC.js";import{r as n}from"./react-vendor-nf7bT_Uh.js";import{I as r,B as w,q as g,r as j}from"./index-Caokjs3M.js";function _({onAuthSuccess:d}){const[s,x]=n.useState(!0),[c,h]=n.useState(!1),[u,m]=n.useState(""),[t,p]=n.useState({email:"",username:"",password:"",first_name:"",last_name:""}),b=async a=>{var i,o;a.preventDefault(),h(!0),m("");try{s?(await g(t.email||t.username,t.password),d(!1)):(await j({email:t.email,username:t.username,password:t.password,first_name:t.first_name,last_name:t.last_name}),d(!0))}catch(f){m(((o=(i=f.response)==null?void 0:i.data)==null?void 0:o.error)||"Authentication failed")}finally{h(!1)}},l=(a,i)=>{p(o=>({...o,[a]:i}))};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-6 font-system",children:[e.jsxs("div",{className:"absolute inset-0",children:[e.jsx("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-gradient-to-r from-amber-500/5 to-orange-600/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-80 h-80 bg-gradient-to-r from-emerald-500/5 to-teal-600/5 rounded-full blur-3xl"})]}),e.jsxs("div",{className:"relative w-full max-w-md glass-card p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-logo text-white mb-3",children:"Pilon"}),e.jsx("p",{className:"text-white/60 font-medium text-sm",children:s?"Welcome back":"Join the platform"})]}),e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[!s&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"First Name"}),e.jsx(r,{type:"text",value:t.first_name,onChange:a=>l("first_name",a.target.value),placeholder:"John",className:"glass border-white/20 text-white font-medium p-3 focus:border-white/40 placeholder:text-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Last Name"}),e.jsx(r,{type:"text",value:t.last_name,onChange:a=>l("last_name",a.target.value),placeholder:"Doe",className:"glass border-white/20 text-white font-medium p-3 focus:border-white/40 placeholder:text-white/40"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:s?"Email or Username":"Email"}),e.jsx(r,{type:s?"text":"email",required:!0,value:t.email,onChange:a=>l("email",a.target.value),placeholder:s?"email@example.com or username":"email@example.com",className:"glass border-white/20 text-white font-medium p-3 focus:border-white/40 placeholder:text-white/40"})]}),!s&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Username"}),e.jsx(r,{type:"text",required:!0,value:t.username,onChange:a=>l("username",a.target.value),placeholder:"username",minLength:3,className:"glass border-white/20 text-white font-medium p-3 focus:border-white/40 placeholder:text-white/40"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Password"}),e.jsx(r,{type:"password",required:!0,value:t.password,onChange:a=>l("password",a.target.value),placeholder:"••••••••",minLength:8,className:"glass border-white/20 text-white font-medium p-3 focus:border-white/40 placeholder:text-white/50"})]}),u&&e.jsx("div",{className:"glass-dark p-4 rounded-xl text-center",children:e.jsx("p",{className:"text-sm text-red-300 font-medium",children:u})}),e.jsx(w,{type:"submit",className:"w-full glass bg-white/20 text-white hover:bg-white/30 font-semibold py-3 rounded-xl border-0 disabled:opacity-50 disabled:cursor-not-allowed transition-all",disabled:c,children:c?"Loading...":s?"Sign In":"Create Account"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{type:"button",onClick:()=>{x(!s),m("")},className:"text-sm text-white/60 hover:text-white font-medium transition-colors",children:s?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})}export{_ as Auth};
