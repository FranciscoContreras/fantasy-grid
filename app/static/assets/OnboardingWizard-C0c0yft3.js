import{j as e}from"./ui-vendor-DMJGUSRC.js";import{r as n}from"./react-vendor-nf7bT_Uh.js";import{I as S,B as p}from"./index-Bd_WOvf5.js";import{C as b,a as j,P as C,B as L}from"./PlayerSearch-BduDYxXH.js";import"./images-0vCTK-E2.js";function E({onNext:o}){const[l,s]=n.useState(""),[a,d]=n.useState(""),[t,c]=n.useState("PPR"),i=r=>{r.preventDefault(),l.trim()&&o({name:l,leagueName:a,scoringType:t})};return e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full mb-6",children:e.jsx("span",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider",children:"Step 1 of 3"})}),e.jsx("h2",{className:"text-5xl font-black tracking-tight mb-4",children:"NAME YOUR TEAM"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Let's get your roster set up in under 3 minutes"})]}),e.jsx(b,{children:e.jsx(j,{className:"pt-8",children:e.jsxs("form",{onSubmit:i,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-2",children:"Team Name *"}),e.jsx(S,{type:"text",value:l,onChange:r=>s(r.target.value),placeholder:"e.g., The Champs",className:"text-lg p-6 border-2 border-gray-300 focus:border-black",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-2",children:"League Name (Optional)"}),e.jsx(S,{type:"text",value:a,onChange:r=>d(r.target.value),placeholder:"e.g., Friends & Family League",className:"text-lg p-6 border-2 border-gray-300 focus:border-black"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 uppercase tracking-wider mb-3",children:"Scoring Format *"}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>c("PPR"),className:`p-4 border-2 rounded-xl font-bold transition-all ${t==="PPR"?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx("div",{className:"text-lg mb-1",children:"PPR"}),e.jsx("div",{className:"text-xs opacity-70 font-normal",children:"Point Per Reception"})]}),e.jsxs("button",{type:"button",onClick:()=>c("HALF_PPR"),className:`p-4 border-2 rounded-xl font-bold transition-all ${t==="HALF_PPR"?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx("div",{className:"text-lg mb-1",children:"HALF PPR"}),e.jsx("div",{className:"text-xs opacity-70 font-normal",children:"0.5 Per Reception"})]}),e.jsxs("button",{type:"button",onClick:()=>c("STANDARD"),className:`p-4 border-2 rounded-xl font-bold transition-all ${t==="STANDARD"?"border-black bg-black text-white":"border-gray-300 hover:border-gray-400"}`,children:[e.jsx("div",{className:"text-lg mb-1",children:"STANDARD"}),e.jsx("div",{className:"text-xs opacity-70 font-normal",children:"No PPR"})]})]})]}),e.jsxs(p,{type:"submit",disabled:!l.trim(),className:"w-full bg-black text-white hover:bg-gray-900 py-7 text-lg font-black uppercase tracking-wider",children:["NEXT: ADD PLAYERS",e.jsx("svg",{className:"ml-2 w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})})})]})}function T({onNext:o,onSkip:l}){const[s,a]=n.useState([]),d=r=>{s.find(x=>x.id===r.id)||a([...s,r])},t=r=>{a(s.filter(x=>x.id!==r))},c=()=>{o(s)},i=r=>({QB:"bg-blue-100 text-blue-800",RB:"bg-green-100 text-green-800",WR:"bg-purple-100 text-purple-800",TE:"bg-orange-100 text-orange-800",K:"bg-gray-100 text-gray-800",DEF:"bg-red-100 text-red-800"})[r]||"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full mb-6",children:e.jsx("span",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider",children:"Step 2 of 3"})}),e.jsx("h2",{className:"text-5xl font-black tracking-tight mb-4",children:"ADD YOUR PLAYERS"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Search and add players to your roster (you can add more later)"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(b,{children:e.jsxs(j,{className:"pt-8",children:[e.jsx("h3",{className:"text-lg font-black uppercase tracking-tight mb-4",children:"SEARCH PLAYERS"}),e.jsx(C,{onSelectPlayer:d}),e.jsx("p",{className:"text-xs text-gray-500 mt-4 uppercase tracking-wider font-semibold",children:"Type player name and select to add"})]})}),e.jsx(b,{children:e.jsxs(j,{className:"pt-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-black uppercase tracking-tight",children:["YOUR ROSTER (",s.length,")"]}),s.length>0&&e.jsxs("div",{className:"text-sm font-semibold text-gray-600",children:[s.length,"/15 RECOMMENDED"]})]}),s.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx("div",{className:"text-6xl mb-4",children:"=e"}),e.jsx("p",{className:"text-sm font-semibold uppercase tracking-wider",children:"No players added yet"}),e.jsx("p",{className:"text-xs mt-2",children:"Search and select players to add them here"})]}):e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:s.map(r=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-bold text-sm",children:r.name}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(L,{className:`text-xs ${i(r.position)}`,children:r.position}),e.jsx("span",{className:"text-xs text-gray-500",children:r.team})]})]}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>t(r.id),className:"ml-2",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},r.id))}),s.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-black h-full rounded-full transition-all",style:{width:`${Math.min(s.length/15*100,100)}%`}})}),e.jsx("p",{className:"text-xs text-center text-gray-500 mt-2 uppercase tracking-wider font-semibold",children:s.length>=8?"Great progress!":"Add at least 5-8 players to start"})]})]})})]}),e.jsxs("div",{className:"flex gap-4 mt-8 justify-center",children:[e.jsx(p,{variant:"outline",onClick:l,className:"px-8 py-6 font-bold uppercase tracking-wider",children:"SKIP FOR NOW"}),e.jsxs(p,{onClick:c,disabled:s.length===0,className:"bg-black text-white hover:bg-gray-900 px-8 py-6 font-black uppercase tracking-wider",children:[s.length===0?"ADD PLAYERS TO CONTINUE":`CONTINUE WITH ${s.length} PLAYERS`,e.jsx("svg",{className:"ml-2 w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})]})]})}function I({rosterId:o,playerCount:l,onComplete:s}){const[a,d]=n.useState(!0),[t,c]=n.useState(0);return n.useEffect(()=>{const i=setInterval(()=>{c(r=>r>=100?(clearInterval(i),d(!1),100):r+10)},300);return()=>clearInterval(i)},[]),e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full mb-6",children:e.jsx("span",{className:"text-xs font-bold text-gray-900 uppercase tracking-wider",children:"Step 3 of 3"})}),e.jsx("h2",{className:"text-5xl font-black tracking-tight mb-4",children:a?"ANALYZING YOUR ROSTER":"YOU'RE ALL SET!"}),e.jsx("p",{className:"text-xl text-gray-600",children:a?"Our AI is analyzing your lineup for this week...":"Your roster is ready for start/sit recommendations"})]}),e.jsx(b,{children:e.jsx(j,{className:"pt-12 pb-12",children:a?e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative w-32 h-32",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"64",cy:"64",r:"60",stroke:"currentColor",strokeWidth:"8",fill:"none",className:"text-gray-200"}),e.jsx("circle",{cx:"64",cy:"64",r:"60",stroke:"currentColor",strokeWidth:"8",fill:"none",strokeDasharray:`${2*Math.PI*60}`,strokeDashoffset:`${2*Math.PI*60*(1-t/100)}`,className:"text-black transition-all duration-300",strokeLinecap:"round"})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("span",{className:"text-3xl font-black",children:[t,"%"]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(g,{label:"Fetching player data",completed:t>20,active:t<=20}),e.jsx(g,{label:"Analyzing matchups",completed:t>40,active:t>20&&t<=40}),e.jsx(g,{label:"Checking weather conditions",completed:t>60,active:t>40&&t<=60}),e.jsx(g,{label:"Calculating AI grades",completed:t>80,active:t>60&&t<=80}),e.jsx(g,{label:"Generating recommendations",completed:t>=100,active:t>80&&t<100})]})]}):e.jsxs("div",{className:"text-center space-y-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-32 h-32 bg-black rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-16 h-16 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-3xl font-black mb-3",children:"ANALYSIS COMPLETE!"}),e.jsxs("p",{className:"text-gray-600 text-lg",children:["Your roster with ",l," players is ready.",e.jsx("br",{}),"We've analyzed matchups, weather, and stats for Week 5."]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 max-w-md mx-auto",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-3xl font-black mb-1",children:l}),e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider font-semibold",children:"Players"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-3xl font-black mb-1",children:"5"}),e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider font-semibold",children:"Week"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"text-3xl font-black mb-1",children:"100%"}),e.jsx("div",{className:"text-xs text-gray-600 uppercase tracking-wider font-semibold",children:"Ready"})]})]}),e.jsxs(p,{onClick:s,className:"bg-black text-white hover:bg-gray-900 px-12 py-7 text-lg font-black uppercase tracking-wider",children:["VIEW MY LINEUP",e.jsx("svg",{className:"ml-2 w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]}),e.jsx("p",{className:"text-sm text-gray-500 uppercase tracking-wider font-semibold",children:"You can add more players anytime"})]})})})]})}function g({label:o,completed:l,active:s}){return e.jsxs("div",{className:"flex items-center gap-3",children:[l?e.jsx("div",{className:"w-6 h-6 bg-black rounded-full flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}):s?e.jsx("div",{className:"w-6 h-6 border-4 border-black border-t-transparent rounded-full animate-spin flex-shrink-0"}):e.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 rounded-full flex-shrink-0"}),e.jsx("span",{className:`text-sm font-semibold uppercase tracking-wider ${l?"text-black":s?"text-gray-900":"text-gray-400"}`,children:o})]})}function $({onComplete:o}){const[l,s]=n.useState(1),[a,d]=n.useState(null),[t,c]=n.useState([]),[i,r]=n.useState(null),[x,y]=n.useState(!1),[f,N]=n.useState(""),P=async h=>{d(h),s(2)},k=async h=>{y(!0),N("");try{const u=localStorage.getItem("auth_token"),v=await fetch("/api/rosters",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({name:a==null?void 0:a.name,league_name:a==null?void 0:a.leagueName,scoring_type:a==null?void 0:a.scoringType})});if(!v.ok)throw new Error("Failed to create roster");const w=(await v.json()).data.id;r(w),h.length>0&&await Promise.all(h.map(async m=>{(await fetch(`/api/rosters/${w}/players`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${u}`},body:JSON.stringify({player_id:m.id||m.player_id,player_name:m.name,position:m.position,team:m.team,roster_slot:"BENCH",is_starter:!1,injury_status:"HEALTHY"})})).ok||console.error(`Failed to add player ${m.name}`)})),c(h),s(3)}catch(u){console.error("Error creating roster:",u),N("Failed to create roster. Please try again.")}finally{y(!1)}},R=async()=>{await k([])},A=()=>{i&&o(i)};return x?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-black border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-lg font-semibold text-gray-600 uppercase tracking-wider",children:"Creating your roster..."})]})}):f?e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-md w-full text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ï¿½"}),e.jsx("h2",{className:"text-3xl font-black mb-4",children:"OOPS!"}),e.jsx("p",{className:"text-gray-600 mb-6",children:f}),e.jsx("button",{onClick:()=>N(""),className:"px-6 py-3 bg-black text-white rounded-lg font-bold hover:bg-gray-900",children:"TRY AGAIN"})]})}):e.jsxs("div",{className:"min-h-screen bg-white py-12 px-4",children:[l===1&&e.jsx(E,{onNext:P}),l===2&&e.jsx(T,{onNext:k,onSkip:R}),l===3&&i&&e.jsx(I,{rosterId:i,playerCount:t.length,onComplete:A})]})}export{$ as OnboardingWizard};
