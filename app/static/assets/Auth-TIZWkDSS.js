import{j as e}from"./ui-vendor-DMJGUSRC.js";import{r as n}from"./react-vendor-nf7bT_Uh.js";import{C as y,I as l,B as f,t as N,u as w}from"./index-DfSbbCOK.js";function C({onAuthSuccess:d}){const[t,h]=n.useState(!0),[m,p]=n.useState(!1),[b,c]=n.useState(""),[a,x]=n.useState({email:"",username:"",password:"",first_name:"",last_name:""}),g=async r=>{var o,i;r.preventDefault(),p(!0),c("");try{t?(await N(a.email||a.username,a.password),d(!1)):(await w({email:a.email,username:a.username,password:a.password,first_name:a.first_name,last_name:a.last_name}),d(!0))}catch(u){c(((i=(o=u.response)==null?void 0:o.data)==null?void 0:i.error)||"Authentication failed")}finally{p(!1)}},s=(r,o)=>{x(i=>({...i,[r]:o}))};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black p-4 font-body",children:e.jsxs(y,{className:"w-full max-w-md p-8 bg-gray-900 text-white border-4 border-gray-700",children:[e.jsxs("div",{className:"text-center mb-8 border-b-2 border-gray-600 pb-6",children:[e.jsx("h1",{className:"text-4xl font-script text-white mb-4",children:"Pilon"}),e.jsx("p",{className:"text-gray-300 font-display uppercase tracking-[0.2em] text-sm",children:t?"Championship Login":"Join The Champions"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-6",children:[!t&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-display uppercase tracking-[0.2em] text-gray-400 mb-3",children:"First Name"}),e.jsx(l,{type:"text",value:a.first_name,onChange:r=>s("first_name",r.target.value),placeholder:"JOHN",className:"bg-black border-2 border-gray-600 text-white font-body p-3 focus:border-white placeholder:text-gray-500 placeholder:uppercase placeholder:tracking-wider"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-display uppercase tracking-[0.2em] text-gray-400 mb-3",children:"Last Name"}),e.jsx(l,{type:"text",value:a.last_name,onChange:r=>s("last_name",r.target.value),placeholder:"DOE",className:"bg-black border-2 border-gray-600 text-white font-body p-3 focus:border-white placeholder:text-gray-500 placeholder:uppercase placeholder:tracking-wider"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-display uppercase tracking-[0.2em] text-gray-400 mb-3",children:t?"Email or Username":"Email"}),e.jsx(l,{type:t?"text":"email",required:!0,value:a.email,onChange:r=>s("email",r.target.value),placeholder:t?"EMAIL@CHAMPION.COM OR USERNAME":"EMAIL@CHAMPION.COM",className:"bg-black border-2 border-gray-600 text-white font-body p-3 focus:border-white placeholder:text-gray-500 placeholder:uppercase placeholder:tracking-wider"})]}),!t&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-display uppercase tracking-[0.2em] text-gray-400 mb-3",children:"Username"}),e.jsx(l,{type:"text",required:!0,value:a.username,onChange:r=>s("username",r.target.value),placeholder:"CHAMPION",minLength:3,className:"bg-black border-2 border-gray-600 text-white font-body p-3 focus:border-white placeholder:text-gray-500 placeholder:uppercase placeholder:tracking-wider"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-display uppercase tracking-[0.2em] text-gray-400 mb-3",children:"Password"}),e.jsx(l,{type:"password",required:!0,value:a.password,onChange:r=>s("password",r.target.value),placeholder:"••••••••",minLength:8,className:"bg-black border-2 border-gray-600 text-white font-body p-3 focus:border-white placeholder:text-gray-500"})]}),b&&e.jsx("div",{className:"p-4 bg-red-900 border-2 border-red-700 text-center",children:e.jsx("p",{className:"text-sm text-red-300 font-display uppercase tracking-wider",children:b})}),e.jsx(f,{type:"submit",className:"w-full bg-white text-black hover:bg-gray-100 font-display uppercase tracking-[0.2em] text-lg py-6 border-2 border-white disabled:opacity-50 disabled:cursor-not-allowed transition-all",disabled:m,children:m?"PROCESSING...":t?"ENTER CHAMPIONSHIP":"JOIN CHAMPIONS"})]}),e.jsx("div",{className:"mt-8 text-center border-t-2 border-gray-600 pt-6",children:e.jsx("button",{type:"button",onClick:()=>{h(!t),c("")},className:"text-sm text-gray-300 hover:text-white font-display uppercase tracking-[0.2em] transition-colors",children:t?"NEW CHAMPION? JOIN HERE":"CHAMPION RETURNING? SIGN IN"})})]})})}export{C as Auth};
